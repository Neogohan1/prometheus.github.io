<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Prometheus monitoring system">
    <meta name="author" content="Prometheus">
    <link rel="icon" href="../../favicon.ico">

    <title>Prometheus</title>

    <!-- Bootstrap core CSS -->
    <link href="/assets/bootstrap-3.3.1/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/assets/docs.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="/assets/font-awesome-4.2.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Open+Sans">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">Prometheus</a>
        </div>
        <div class="collapse navbar-collapse" id="navbar">
          <ul class="nav navbar-nav navbar-right main-nav">
            <li><a href="/">Overview</a></li>
            <li><a href="/docs/introduction/overview">Documentation</a></li>
            <li><a href="/community">Community</a></li>
            <li><a href="https://github.com/prometheus"><i class="fa fa-github"></i> Github</a></li>
          </ul>
        </div>
      </div>
    </nav>


<div class="container">
  <div class="row">
    <div class="col-md-3">
      <ul class="nav navbar-nav side-nav">
        
          <li><span class="nav-header"><i class="fa fa-hand-o-right"></i> Introduction</span><ul class="nav"><li><a href="/docs/introduction/overview/">Overview</a></li><li><a href="/docs/introduction/install/">Installing</a></li><li><a href="/docs/introduction/getting_started/">Getting started</a></li><li><a href="/docs/introduction/comparison/">Comparison to alternatives</a></li></ul></li>
        
          <li><span class="nav-header"><i class="fa fa-flask"></i> Concepts</span><ul class="nav"><li><a href="/docs/concepts/data_model/">Data model</a></li><li><a href="/docs/concepts/metric_types/">Metric types</a></li><li class="active"><a href="/docs/concepts/jobs_instances/">Jobs and instances</a></li></ul></li>
        
          <li><span class="nav-header"><i class="fa fa-search"></i> Query language</span><ul class="nav"><li><a href="/docs/querying/basics/">Basics</a></li><li><a href="/docs/querying/operators/">Operators</a></li><li><a href="/docs/querying/functions/">Functions</a></li><li><a href="/docs/querying/examples/">Examples</a></li></ul></li>
        
          <li><span class="nav-header"><i class="fa fa-line-chart"></i> Visualization</span><ul class="nav"><li><a href="/docs/visualization/browser/">Expression browser</a></li><li><a href="/docs/visualization/promdash/">PromDash</a></li><li><a href="/docs/visualization/consoles/">Console templates</a></li></ul></li>
        
          <li><span class="nav-header"><i class="fa fa-cog"></i> Operating</span><ul class="nav"><li><a href="/docs/operating/configuration/">Configuration</a></li><li><a href="/docs/operating/storage/">Storage</a></li><li><a href="/docs/operating/rules/">Recording and alerting rules</a></li></ul></li>
        
          <li><span class="nav-header"><i class="fa fa-code"></i> Instrumenting</span><ul class="nav"><li><a href="/docs/instrumenting/clientlibs/">Client libraries</a></li><li><a href="/docs/instrumenting/exposition_formats/">Exposition formats</a></li><li><a href="/docs/instrumenting/pushing/">Pushing metrics</a></li></ul></li>
        
          <li><span class="nav-header"><i class="fa fa-thumbs-o-up"></i> Best practices</span><ul class="nav"><li><a href="/docs/practices/naming/">Metric and label naming</a></li><li><a href="/docs/practices/instrumentation/">Instrumentation</a></li><li><a href="/docs/practices/consoles/">Consoles and dashboards</a></li><li><a href="/docs/practices/alerting/">Alerting</a></li></ul></li>
        
      </ul>
    </div>

    <div class="col-md-9 doc-content">
      <h1 class="page-header">Jobs and instances</h1>

<p>In Prometheus terms, any individually scraped target is called an <em>instance</em>,
usually corresponding to a single process. A collection of instances of the
same type (replicated for scalability or reliability) is called a <em>job</em>.</p>

<p>For example, an API server job with four replicated instances:</p>

<ul>
<li>job: <code>api-server</code>

<ul>
<li>instance 1: <code>http://1.2.3.4:5670/metrics</code>
</li>
<li>instance 2: <code>http://1.2.3.4:5671/metrics</code>
</li>
<li>instance 3: <code>http://5.6.7.8:5670/metrics</code>
</li>
<li>instance 4: <code>http://5.6.7.8:5671/metrics</code>
</li>
</ul>
</li>
</ul>

<h2>Automatically generated labels and time series</h2>

<p>When Prometheus scrapes a target, it attaches some labels automatically to the
scraped time series which serve to identify the scraped target:</p>

<ul>
<li>
<code>job</code>: The configured job name that the target belongs to.</li>
<li>
<code>instance</code>: The URL of the target's endpoint that was scraped.</li>
</ul>

<p>If either of these labels are already present in the scraped data, Prometheus
does not replace their values. Instead, it adds new labels with an <code>exporter_</code>
prefix prepended to the label name: <code>exporter_job</code> and <code>exporter_instance</code>. The
same pattern holds true for any labels that have been manually configured for a
target group. This enables intermediary exporters to proxy metrics.</p>

<p>For each instance scrape, Prometheus stores a sample of the form
<code>up{job="&lt;job-name&gt;", instance="&lt;instance-url&gt;"}</code> with a value of <code>1</code> if the
instance was scraped successfully or a value of <code>0</code> if the scrape failed. This
time series is useful for instance availability monitoring.</p>

<div class="admonition-wrapper todo"><div class="admonition alert alert-info">move alerts stuff somewhere else (Prometheus also stores * <code>ALERTS</code>: for pending and firing alerts, a time series of the form <code>ALERTS{alertname="...", alertstate="pending|firing",...alertlabels...}</code> is written out. The sample value is <code>1</code> as long as the alert is in the indicated active (pending/firing) state, but a single <code>0</code> value gets written out when an alert transitions from active to inactive state.)</div></div>

    </div>

  </div>
  <hr>

<footer>
  <p class="pull-left">
    &copy; Prometheus Authors 2015
  </p>
  <p class="pull-right">
    Sponsored by <a href="http://soundcloud.com/" class="sc-logo" title="Go to SoundCloud.com"><i class="fa fa-soundcloud"></i> SoundCloud</a>
  </p>
</footer>

</div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="/assets/bootstrap-3.3.1/js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="/assets/ie10-viewport-bug-workaround.js"></script>
  </body>
</html>

